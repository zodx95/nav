import{a as fe,b as be}from"./chunk-PO4CMZJL.js";import{a as de}from"./chunk-NVGPFPIS.js";import{c as he,e as pe,f as ue}from"./chunk-VPNQOBBQ.js";import{b as ne,g as ie,h as ae}from"./chunk-PIC46MEH.js";import{I as se,K as j,Ob as me,Qb as U,R as re,Rb as K,Sa as Et,T as Z,Ta as le,Ua as ut,e as M,eb as ce,fa as ht,ha as pt,k as Dt,l as oe,m as At,oc as ze,rc as _e,sc as Te}from"./chunk-IW626HSK.js";import{$ as vt,$b as Y,Aa as X,Db as S,Eb as Gt,Gd as mt,K as $,Ka as xt,Lb as Q,M as Ft,N as Pt,Na as W,Nb as N,Nc as Jt,Oa as tt,Oc as lt,Pb as k,Rb as nt,S as Ht,Sb as it,Ta as Yt,Tb as at,Ub as p,V as Vt,Vb as g,Wb as C,Xb as P,Xc as dt,Zc as Nt,ac as q,ad as te,cc as R,cd as kt,ec as jt,fc as D,fd as ee,ha as $t,ib as u,ic as c,ja as Xt,jc as yt,jd as ct,kc as ot,l as gt,la as Qt,lc as st,mc as rt,md as x,na as m,nc as y,oc as I,p as Lt,pb as et,pc as Zt,rc as Ut,s as Ot,sa as _,sc as G,t as Wt,ta as T,tc as It,uc as B,v as V,vc as Kt,w as E,xa as J,xb as L,xc as St,y as Ct,yb as qt,za as z,zb as O,zc as wt}from"./chunk-D6JTGRXS.js";function Me(e,d){if(e&1&&(Y(0),P(1,"nz-icon",1),q()),e&2){let t=d.$implicit;u(),p("nzType",t)}}var Le=["nz-tab-body",""];function Oe(e,d){}function We(e,d){if(e&1&&(Y(0),P(1,"nz-icon",1),q()),e&2){let t=d.$implicit;u(),p("nzType",t)}}var Fe=()=>({minWidth:"46px"}),Pe=()=>({visible:!1});function He(e,d){if(e&1&&(Y(0),St(1),q()),e&2){let t=c().$implicit;u(),wt(" ",t.tab.label," ")}}function Ve(e,d){if(e&1){let t=R();g(0,"li",7),D("click",function(){let i=_(t).$implicit,a=c(2);return T(a.onSelect(i))})("contextmenu",function(i){let a=_(t).$implicit,l=c(2);return T(l.onContextmenu(a,i))}),S(1,He,2,1,"ng-container",8),C()}if(e&2){let t=d.$implicit;B("ant-tabs-dropdown-menu-item-disabled",t.disabled),p("nzSelected",t.active)("nzDisabled",t.disabled),u(),p("nzStringTemplateOutlet",t.tab.label)("nzStringTemplateOutletContext",lt(6,Pe))}}function $e(e,d){if(e&1&&(g(0,"ul",4),it(1,Ve,2,7,"li",6,nt),C()),e&2){let t=c();u(),at(t.items)}}function Xe(e,d){if(e&1){let t=R();g(0,"button",9),D("click",function(){_(t);let i=c();return T(i.addClicked.emit())}),C()}if(e&2){let t=c();p("addIcon",t.addIcon)}}var Qe=["navWrap"],Ye=["navList"],qe=["*"];function Ge(e,d){}function je(e,d){if(e&1&&(g(0,"div",2),S(1,Ge,0,0,"ng-template",8),C()),e&2){let t=c();u(),p("ngTemplateOutlet",t.startExtraContent().templateRef)}}function Ze(e,d){if(e&1){let t=R();g(0,"button",9),D("click",function(){_(t);let i=c();return T(i.addClicked.emit())}),C()}if(e&2){let t=c();p("addIcon",t.addIcon),Q("tabindex",-1)}}function Ue(e,d){}function Ke(e,d){if(e&1&&(g(0,"div",2),S(1,Ue,0,0,"ng-template",8),C()),e&2){let t=c();u(),p("ngTemplateOutlet",t.endExtraContent().templateRef)}}function Je(e,d){}function tn(e,d){if(e&1&&(g(0,"div",2),S(1,Je,0,0,"ng-template",8),C()),e&2){let t=c();u(),p("ngTemplateOutlet",t.extraTemplate)}}var en=["contentTemplate"],nn=[[["","nz-tab-link",""]],"*"],an=["[nz-tab-link]","*"];function on(e,d){e&1&&ot(0)}function sn(e,d){e&1&&ot(0,1)}var rn=()=>({visible:!0});function ln(e,d){if(e&1&&(Y(0),St(1),q()),e&2){let t=c().$implicit;u(),wt(" ",t.label," ")}}function dn(e,d){if(e&1){let t=R();g(0,"button",10),D("click",function(i){_(t);let a=c().$index,l=c(2);return T(l.onClose(a,i))}),C()}if(e&2){let t=c().$implicit;p("closeIcon",t.nzCloseIcon)}}function cn(e,d){if(e&1){let t=R();g(0,"div",6),D("click",function(i){let a=_(t),l=a.$implicit,h=a.$index,f=c(2);return T(f.clickNavItem(l,h,i))})("contextmenu",function(i){let a=_(t).$implicit,l=c(2);return T(l.contextmenuNavItem(a,i))}),g(1,"button",7),S(2,ln,2,1,"ng-container",8),N(3,dn,1,1,"button",9),C()()}if(e&2){let t=d.$implicit,n=d.$index,i=c(2);It("margin-right",i.position==="horizontal"?i.nzTabBarGutter:null,"px")("margin-bottom",i.position==="vertical"?i.nzTabBarGutter:null,"px"),B("ant-tabs-tab-active",i.nzSelectedIndex===n)("ant-tabs-tab-disabled",t.nzDisabled),u(),p("id",i.getTabContentId(n))("disabled",t.nzDisabled)("tab",t)("active",i.nzSelectedIndex===n),Q("tabIndex",i.getTabIndex(t,n))("aria-disabled",t.nzDisabled)("aria-selected",i.nzSelectedIndex===n&&!i.nzHideAll)("aria-controls",i.getTabContentId(n)),u(),p("nzStringTemplateOutlet",t.label)("nzStringTemplateOutletContext",lt(19,rn)),u(),k(t.nzClosable&&i.closable&&!t.nzDisabled?3:-1)}}function mn(e,d){if(e&1){let t=R();g(0,"nz-tabs-nav",4),D("tabScroll",function(i){_(t);let a=c();return T(a.nzTabListScroll.emit(i))})("selectFocusedIndex",function(i){_(t);let a=c();return T(a.setSelectedIndex(i))})("addClicked",function(){_(t);let i=c();return T(i.onAdd())}),it(1,cn,4,20,"div",5,nt),C()}if(e&2){let t=c();Kt(t.nzTabBarStyle),p("selectedIndex",t.nzSelectedIndex||0)("inkBarAnimated",t.inkBarAnimated)("addable",t.addable)("addIcon",t.nzAddIcon)("hideBar",t.nzHideAll)("position",t.position)("extraTemplate",t.nzTabBarExtraContent)("extraContents",t.extraContents()),u(),at(t.tabs)}}function hn(e,d){}function pn(e,d){if(e&1&&S(0,hn,0,0,"ng-template",11),e&2){c();let t=G(4);p("ngTemplateOutlet",t)}}function un(e,d){}function fn(e,d){if(e&1&&S(0,un,0,0,"ng-template",11),e&2){c(2);let t=G(4);p("ngTemplateOutlet",t)}}function bn(e,d){if(e&1&&N(0,fn,1,1,null,11),e&2){let t=c().$index,n=c(2);k(n.nzSelectedIndex===t?0:-1)}}function zn(e,d){}function _n(e,d){if(e&1&&S(0,zn,0,0,"ng-template",11),e&2){c(2);let t=G(4);p("ngTemplateOutlet",t)}}function Tn(e,d){if(e&1&&N(0,_n,1,1,null,11),e&2){let t=c(),n=t.$implicit,i=t.$index,a=c(2);k(a.nzSelectedIndex===i||n.hasBeenActive?0:-1)}}function gn(e,d){if(e&1&&P(0,"div",12),e&2){let t=c(),n=t.$implicit,i=t.$index,a=c(2);p("id",a.getTabContentId(i))("active",a.nzSelectedIndex===i)("content",n.content)("animated",a.tabPaneAnimated),Q("aria-labelledby",a.getTabContentId(i))}}function Cn(e,d){if(e&1&&(N(0,pn,1,1,null,11)(1,bn,1,1)(2,Tn,1,1),S(3,gn,1,5,"ng-template",null,0,dt)),e&2){let t=d.$implicit,n=c(2);k(t.nzForceRender?0:n.nzDestroyInactiveTabPane?1:2)}}function vn(e,d){if(e&1&&it(0,Cn,5,1,null,null,nt),e&2){let t=c();at(t.tabs)}}var Rt=class{index;tab},zt=(()=>{class e{addIcon="plus";element=m(W).nativeElement;getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=L({type:e,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nzTheme","outline",3,"nzType"]],template:function(n,i){n&1&&S(0,Me,2,1,"ng-container",0),n&2&&p("nzStringTemplateOutlet",i.addIcon)},dependencies:[K,U,pt,ht],encapsulation:2})}return e})(),ge=(()=>{class e{position=kt("end",{alias:"nzTabBarExtraContent"});templateRef=m(et);static \u0275fac=function(n){return new(n||e)};static \u0275dir=O({type:e,selectors:[["","nzTabBarExtraContent","",5,"nz-tabset",5,"nz-tabs"]],inputs:{position:[1,"nzTabBarExtraContent","position"]}})}return e})(),xn=(()=>{class e{content=null;active=!1;animated=!0;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=L({type:e,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:10,hostBindings:function(n,i){n&2&&(jt("@tabSwitchMotion",i.active?"enter":"leave")("@.disabled",!i.animated),Q("tabindex",i.active?0:-1)("aria-hidden",!i.active),It("overflow-y",i.animated?i.active?null:"none":null),B("ant-tabs-tabpane-active",i.active)("ant-tabs-tabpane-hidden",i.animated?null:!i.active))},inputs:{content:"content",active:"active",animated:"animated"},exportAs:["nzTabBody"],attrs:Le,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(n,i){n&1&&S(0,Oe,0,0,"ng-template",0),n&2&&p("ngTemplateOutlet",i.content)},dependencies:[mt],encapsulation:2,data:{animation:[me]},changeDetection:0})}return e})(),Ie=(()=>{class e{closeIcon="close";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=L({type:e,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nzTheme","outline",3,"nzType"]],template:function(n,i){n&1&&S(0,We,2,1,"ng-container",0),n&2&&p("nzStringTemplateOutlet",i.closeIcon)},dependencies:[K,U,pt,ht],encapsulation:2})}return e})(),yn=(()=>{class e{templateRef=m(et,{host:!0});static \u0275fac=function(n){return new(n||e)};static \u0275dir=O({type:e,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"]})}return e})(),Se=(()=>{class e{elementRef=m(W);routerLink=m(ae,{self:!0,optional:!0});static \u0275fac=function(n){return new(n||e)};static \u0275dir=O({type:e,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"]})}return e})(),we=(()=>{class e{disabled=!1;tab;active=!1;elementRef=m(W);el=this.elementRef.nativeElement;parentElement=this.el.parentElement;focus(){this.el.focus({preventScroll:!0})}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}static \u0275fac=function(n){return new(n||e)};static \u0275dir=O({type:e,selectors:[["","nzTabNavItem",""]],inputs:{disabled:[2,"disabled","disabled",x],tab:"tab",active:[2,"active","active",x]}})}return e})(),Bt=(()=>{class e{items=[];addable=!1;addIcon="plus";addClicked=new z;selected=new z;closeAnimationWaitTimeoutId;menuOpened=!1;cdr=m(ct);element=m(W).nativeElement;onSelect(t){t.disabled||(t.tab.nzClick.emit(),this.selected.emit(t))}onContextmenu(t,n){t.disabled||t.tab.nzContextmenu.emit(n)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(t){t||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=L({type:e,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(n,i){n&2&&B("ant-tabs-nav-operations-hidden",i.items.length===0)},inputs:{items:"items",addable:[2,"addable","addable",x],addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],decls:7,vars:6,consts:[["dropdownTrigger","nzDropdown"],["menu","nzDropdownMenu"],["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzVisibleChange","mouseenter","nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement"],["nzType","ellipsis"],["nz-menu",""],["nz-tab-add-button","",3,"addIcon"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"click","contextmenu","nzSelected","nzDisabled"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"click","addIcon"]],template:function(n,i){if(n&1){let a=R();g(0,"button",2,0),D("nzVisibleChange",function(h){return _(a),T(i.menuVisChange(h))})("mouseenter",function(){return _(a),T(i.showItems())}),P(2,"nz-icon",3),C(),g(3,"nz-dropdown-menu",null,1),N(5,$e,3,0,"ul",4),C(),N(6,Xe,1,1,"button",5)}if(n&2){let a=G(4);p("nzDropdownMenu",a)("nzOverlayStyle",lt(5,Fe))("nzMatchWidthElement",null),u(5),k(i.menuOpened?5:-1),u(),k(i.addable?6:-1)}},dependencies:[pt,ht,K,U,zt,be,ue,pe,he,fe],encapsulation:2,changeDetection:0})}return e})(),In=.1,Ce=.01,ft=20,ve=.995**ft,Sn=(()=>{class e{ngZone=m(X);destroyRef=m(J);el=m(W).nativeElement;lastWheelDirection=null;lastWheelTimestamp=0;lastTimestamp=0;lastTimeDiff=0;lastMixedWheel=0;lastWheelPrevent=!1;touchPosition=null;lastOffset=null;motion=-1;offsetChange=new z;tabScroll=new z;ngOnInit(){let t=j(this.el,"wheel"),n=j(this.el,"touchstart"),i=j(this.el,"touchmove"),a=j(this.el,"touchend");this.subscribeWrap("wheel",t,this.onWheel),this.subscribeWrap("touchstart",n,this.onTouchStart),this.subscribeWrap("touchmove",i,this.onTouchMove),this.subscribeWrap("touchend",a,this.onTouchEnd)}subscribeWrap(t,n,i){return n.pipe(M(this.destroyRef)).subscribe(a=>{this.tabScroll.emit({type:t,event:a}),a.defaultPrevented||i(a)})}onTouchEnd=t=>{if(!this.touchPosition)return;let n=this.lastOffset,i=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,n){let a=n.x/i,l=n.y/i,h=Math.abs(a),f=Math.abs(l);if(Math.max(h,f)<In)return;let w=a,A=l;this.motion=window.setInterval(()=>{if(Math.abs(w)<Ce&&Math.abs(A)<Ce){window.clearInterval(this.motion);return}w*=ve,A*=ve,this.onOffset(w*ft,A*ft,t)},ft)}};onTouchMove=t=>{if(!this.touchPosition)return;t.preventDefault();let{screenX:n,screenY:i}=t.touches[0],a=n-this.touchPosition.x,l=i-this.touchPosition.y;this.onOffset(a,l,t);let h=Date.now();this.lastTimeDiff=h-this.lastTimestamp,this.lastTimestamp=h,this.lastOffset={x:a,y:l},this.touchPosition={x:n,y:i}};onTouchStart=t=>{let{screenX:n,screenY:i}=t.touches[0];this.touchPosition={x:n,y:i},window.clearInterval(this.motion)};onWheel=t=>{let{deltaX:n,deltaY:i}=t,a,l=Math.abs(n),h=Math.abs(i);l===h?a=this.lastWheelDirection==="x"?n:i:l>h?(a=n,this.lastWheelDirection="x"):(a=i,this.lastWheelDirection="y");let f=Date.now(),w=Math.abs(a);(f-this.lastWheelTimestamp>100||w-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-a,-a,t),(t.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=f,this.lastMixedWheel=w};onOffset(t,n,i){this.offsetChange.observers.length&&this.ngZone.run(()=>{this.offsetChange.emit({x:t,y:n,event:i})})}static \u0275fac=function(n){return new(n||e)};static \u0275dir=O({type:e,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"}})}return e})(),xe=(()=>{class e{ngZone=m(X);el=m(W).nativeElement;position="horizontal";animated=!0;animationMode=m(Yt,{optional:!0});get _animated(){return this.animationMode!=="NoopAnimations"&&this.animated}alignToElement(t){this.ngZone.runOutsideAngular(()=>{ut(()=>this.setStyles(t))})}setStyles(t){this.position==="horizontal"?(this.el.style.top="",this.el.style.height="",this.el.style.left=this.getLeftPosition(t),this.el.style.width=this.getElementWidth(t)):(this.el.style.left="",this.el.style.width="",this.el.style.top=this.getTopPosition(t),this.el.style.height=this.getElementHeight(t))}getLeftPosition(t){return t?`${t.offsetLeft||0}px`:"0"}getElementWidth(t){return t?`${t.offsetWidth||0}px`:"0"}getTopPosition(t){return t?`${t.offsetTop||0}px`:"0"}getElementHeight(t){return t?`${t.offsetHeight||0}px`:"0"}static \u0275fac=function(n){return new(n||e)};static \u0275dir=O({type:e,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(n,i){n&2&&B("ant-tabs-ink-bar-animated",i._animated)},inputs:{position:"position",animated:"animated"}})}return e})(),wn=typeof ut<"u"?Wt:Ot,ye=150,Mt=(()=>{class e{cdr=m(ct);ngZone=m(X);viewportRuler=m(ce);nzResizeObserver=m(de);dir=m(Et);destroyRef=m(J);indexFocused=new z;selectFocusedIndex=new z;addClicked=new z;tabScroll=new z;position="horizontal";addable=!1;hideBar=!1;addIcon="plus";inkBarAnimated=!0;extraTemplate;extraContents=kt.required();startExtraContent=Nt(()=>this.extraContents().find(t=>t.position()==="start"));endExtraContent=Nt(()=>this.extraContents().find(t=>t.position()==="end"));get selectedIndex(){return this._selectedIndex}set selectedIndex(t){let n=At(t);this._selectedIndex!==n&&(this._selectedIndex=t,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(t))}navWrapRef;navListRef;operationRef;addBtnRef;inkBar;items;get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(t){!this.isValidIndex(t)||this.focusIndex===t||!this.keyManager||this.keyManager.setActiveItem(t)}get showAddButton(){return this.hiddenItems.length===0&&this.addable}translate=null;transformX=0;transformY=0;pingLeft=!1;pingRight=!1;pingTop=!1;pingBottom=!1;hiddenItems=[];keyManager;_selectedIndex=0;wrapperWidth=0;wrapperHeight=0;scrollListWidth=0;scrollListHeight=0;operationWidth=0;operationHeight=0;addButtonWidth=0;addButtonHeight=0;selectedIndexChanged=!1;lockAnimationTimeoutId;cssTransformTimeWaitingId;constructor(){this.destroyRef.onDestroy(()=>{clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId)})}ngAfterViewInit(){let t=this.dir?this.dir.change.asObservable():Ct(null),n=this.viewportRuler.change(150),i=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new Te(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),ut(i),$(this.nzResizeObserver.observe(this.navWrapRef),this.nzResizeObserver.observe(this.navListRef)).pipe(M(this.destroyRef),Pt(16,wn)).subscribe(()=>{i()}),$(t,n,this.items.changes).pipe(M(this.destroyRef)).subscribe(()=>{Promise.resolve().then(i),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe(M(this.destroyRef)).subscribe(a=>{this.indexFocused.emit(a),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}onSelectedFromMenu(t){let n=this.items.toArray().findIndex(i=>i===t);n!==-1&&(this.keyManager.updateActiveItem(n),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(t)))}onOffsetChange(t){if(this.position==="horizontal"){if(!this.lockAnimationTimeoutId&&(this.transformX>=0&&t.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&t.x<0))return;t.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+t.x),this.setTransform(this.transformX,0)}else{if(!this.lockAnimationTimeoutId&&(this.transformY>=0&&t.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&t.y<0))return;t.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+t.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(t){let n=this.navWrapRef.nativeElement.contains(t.target);if(!(le(t)||!n))switch(t.keyCode){case 37:case 38:case 39:case 40:this.lockAnimation(),this.keyManager.onKeydown(t);break;case 13:case 32:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(t)}}isValidIndex(t){if(!this.items)return!0;let n=this.items?this.items.toArray()[t]:null;return!!n&&!n.disabled}scrollToTab(t){if(!this.items.find(i=>i===t))return;let n=this.items.toArray();if(this.position==="horizontal"){let i=this.transformX;if(this.getLayoutDirection()==="rtl"){let a=n[0].left+n[0].width-t.left-t.width;a<this.transformX?i=a:a+t.width>this.transformX+this.wrapperWidth&&(i=a+t.width-this.wrapperWidth)}else t.left<-this.transformX?i=-t.left:t.left+t.width>-this.transformX+this.wrapperWidth&&(i=-(t.left+t.width-this.wrapperWidth));this.transformX=i,this.transformY=0,this.setTransform(i,0)}else{let i=this.transformY;t.top<-this.transformY?i=-t.top:t.top+t.height>-this.transformY+this.wrapperHeight&&(i=-(t.top+t.height-this.wrapperHeight)),this.transformY=i,this.transformX=0,this.setTransform(0,i)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},ye)}lockAnimation(){this.lockAnimationTimeoutId||this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=void 0},ye)})}setTransform(t,n){this.navListRef.nativeElement.style.transform=`translate(${t}px, ${n}px)`}clampTransformX(t){let n=this.wrapperWidth-this.scrollListWidth;return this.getLayoutDirection()==="rtl"?Math.max(Math.min(n,t),0):Math.min(Math.max(n,t),0)}clampTransformY(t){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,t),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWrapRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWrapRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){let t=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,n=t?t.elementRef.nativeElement:null;n&&this.inkBar.alignToElement(n.parentElement)}setPingStatus(){let t={top:!1,right:!1,bottom:!1,left:!1},n=this.navWrapRef.nativeElement;this.position==="horizontal"?this.getLayoutDirection()==="rtl"?(t.right=this.transformX>0,t.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(t.left=this.transformX<0,t.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(t.top=this.transformY<0,t.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(t).forEach(i=>{let a=`ant-tabs-nav-wrap-ping-${i}`;t[i]?n.classList.add(a):n.classList.remove(a)})}setVisibleRange(){let t,n,i,a,l,h,f=this.items.toArray(),w={width:0,height:0,left:0,top:0,right:0},A=b=>{let F,Tt=f[b]||w;return n==="right"?F=f[0].left+f[0].width-f[b].left-f[b].width:F=Tt[n],F};this.position==="horizontal"?(t="width",a=this.wrapperWidth,l=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),h=this.addButtonWidth,i=Math.abs(this.transformX),this.getLayoutDirection()==="rtl"?(n="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,n="left")):(t="height",a=this.wrapperHeight,l=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),h=this.addButtonHeight,n="top",i=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let H=a;if(l+h>a&&(H=a-h),!f.length){this.hiddenItems=[],this.cdr.markForCheck();return}let _t=f.length,s=_t;for(let b=0;b<_t;b+=1){let F=A(b),Tt=f[b]||w;if(F+Tt[t]>i+H){s=b-1;break}}let o=0;for(let b=_t-1;b>=0;b-=1)if(A(b)<i){o=b+1;break}let r=f.slice(0,o),v=f.slice(s+1);this.hiddenItems=[...r,...v],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&this.dir.value==="rtl"?"rtl":"ltr"}ngOnChanges(t){let{position:n}=t;n&&!n.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=L({type:e,selectors:[["nz-tabs-nav"]],contentQueries:function(n,i,a){if(n&1&&st(a,we,5),n&2){let l;y(l=I())&&(i.items=l)}},viewQuery:function(n,i){if(n&1&&rt(Qe,7)(Ye,7)(Bt,7)(zt,5)(xe,7),n&2){let a;y(a=I())&&(i.navWrapRef=a.first),y(a=I())&&(i.navListRef=a.first),y(a=I())&&(i.operationRef=a.first),y(a=I())&&(i.addBtnRef=a.first),y(a=I())&&(i.inkBar=a.first)}},hostAttrs:[1,"ant-tabs-nav"],hostBindings:function(n,i){n&1&&D("keydown",function(l){return i.handleKeydown(l)})},inputs:{position:"position",addable:[2,"addable","addable",x],hideBar:[2,"hideBar","hideBar",x],addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",extraTemplate:"extraTemplate",extraContents:[1,"extraContents"],selectedIndex:"selectedIndex"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],features:[xt],ngContentSelectors:qe,decls:11,vars:17,consts:[["navWrap",""],["navList",""],[1,"ant-tabs-extra-content"],[1,"ant-tabs-nav-wrap"],["nzTabScrollList","","role","tablist",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["role","tab","nz-tab-add-button","",3,"addIcon"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addClicked","selected","addIcon","addable","items"],[3,"ngTemplateOutlet"],["role","tab","nz-tab-add-button","",3,"click","addIcon"]],template:function(n,i){if(n&1){let a=R();yt(),N(0,je,2,1,"div",2),g(1,"div",3,0)(3,"div",4,1),D("offsetChange",function(h){return _(a),T(i.onOffsetChange(h))})("tabScroll",function(h){return _(a),T(i.tabScroll.emit(h))}),ot(5),N(6,Ze,1,2,"button",5),P(7,"div",6),C()(),g(8,"nz-tab-nav-operation",7),D("addClicked",function(){return _(a),T(i.addClicked.emit())})("selected",function(h){return _(a),T(i.onSelectedFromMenu(h))}),C(),N(9,Ke,2,1,"div",2)(10,tn,2,1,"div",2)}n&2&&(k(i.startExtraContent()?0:-1),u(),B("ant-tabs-nav-wrap-ping-left",i.pingLeft)("ant-tabs-nav-wrap-ping-right",i.pingRight)("ant-tabs-nav-wrap-ping-top",i.pingTop)("ant-tabs-nav-wrap-ping-bottom",i.pingBottom),u(5),k(i.showAddButton?6:-1),u(),p("hidden",i.hideBar)("position",i.position)("animated",i.inkBarAnimated),u(),p("addIcon",i.addIcon)("addable",i.addable)("items",i.hiddenItems),u(),k(i.endExtraContent()?9:i.extraTemplate?10:-1))},dependencies:[Sn,zt,xe,Bt,mt],encapsulation:2,changeDetection:0})}return e})(),Nn=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=O({type:e,selectors:[["","nz-tab",""]],exportAs:["nzTab"]})}return e})(),Ne=new Qt(""),kn=(()=>{class e{nzTitle="";nzClosable=!1;nzCloseIcon="close";nzDisabled=!1;nzForceRender=!1;nzSelect=new z;nzDeselect=new z;nzClick=new z;nzContextmenu=new z;nzTabLinkTemplateDirective;template=null;linkDirective;contentTemplate;isActive=!1;hasBeenActive=!1;position=null;origin=null;closestTabSet=m(Ne);stateChanges=new Lt;get content(){return this.template||this.contentTemplate}get label(){return this.nzTitle||this.nzTabLinkTemplateDirective?.templateRef}ngOnChanges(t){let{nzTitle:n,nzDisabled:i,nzForceRender:a}=t;(n||i||a)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}setActive(t){this.isActive=t,t&&(this.hasBeenActive=!0)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=L({type:e,selectors:[["nz-tab"]],contentQueries:function(n,i,a){if(n&1&&st(a,yn,5)(a,Nn,5,et)(a,Se,5),n&2){let l;y(l=I())&&(i.nzTabLinkTemplateDirective=l.first),y(l=I())&&(i.template=l.first),y(l=I())&&(i.linkDirective=l.first)}},viewQuery:function(n,i){if(n&1&&rt(en,7),n&2){let a;y(a=I())&&(i.contentTemplate=a.first)}},inputs:{nzTitle:"nzTitle",nzClosable:[2,"nzClosable","nzClosable",x],nzCloseIcon:"nzCloseIcon",nzDisabled:[2,"nzDisabled","nzDisabled",x],nzForceRender:[2,"nzForceRender","nzForceRender",x]},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],features:[xt],ngContentSelectors:an,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(n,i){n&1&&(yt(nn),Gt(0,on,1,0,"ng-template",null,0,dt)(2,sn,1,0,"ng-template",null,1,dt))},encapsulation:2,changeDetection:0})}return e})(),Dn="tabs",An=0,En=(()=>{let e,d=[],t=[],n,i=[],a=[],l,h=[],f=[],w,A=[],H=[];return class bt{static{let s=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;e=[Z()],n=[Z()],l=[Z()],w=[Z()],V(null,null,e,{kind:"field",name:"nzType",static:!1,private:!1,access:{has:o=>"nzType"in o,get:o=>o.nzType,set:(o,r)=>{o.nzType=r}},metadata:s},d,t),V(null,null,n,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:o=>"nzSize"in o,get:o=>o.nzSize,set:(o,r)=>{o.nzSize=r}},metadata:s},i,a),V(null,null,l,{kind:"field",name:"nzAnimated",static:!1,private:!1,access:{has:o=>"nzAnimated"in o,get:o=>o.nzAnimated,set:(o,r)=>{o.nzAnimated=r}},metadata:s},h,f),V(null,null,w,{kind:"field",name:"nzTabBarGutter",static:!1,private:!1,access:{has:o=>"nzTabBarGutter"in o,get:o=>o.nzTabBarGutter,set:(o,r)=>{o.nzTabBarGutter=r}},metadata:s},A,H),s&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}_nzModuleName=Dn;nzConfigService=m(re);ngZone=m(X);cdr=m(ct);directionality=m(Et);destroyRef=m(J);get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(s){this.indexToSelect=At(s,null)}nzTabPosition="top";nzTabBarExtraContent;nzCanDeactivate=null;nzAddIcon="plus";nzTabBarStyle=null;nzType=E(this,d,"line");nzSize=(E(this,t),E(this,i,"default"));nzAnimated=(E(this,a),E(this,h,!0));nzTabBarGutter=(E(this,f),E(this,A,void 0));nzHideAdd=(E(this,H),!1);nzCentered=!1;nzHideAll=!1;nzLinkRouter=!1;nzLinkExact=!0;nzDestroyInactiveTabPane=!1;nzSelectChange=new z(!0);nzSelectedIndexChange=new z;nzTabListScroll=new z;nzClose=new z;nzAdd=new z;get position(){return["top","bottom"].indexOf(this.nzTabPosition)===-1?"vertical":"horizontal"}get addable(){return this.nzType==="editable-card"&&!this.nzHideAdd}get closable(){return this.nzType==="editable-card"}get line(){return this.nzType==="line"}get inkBarAnimated(){return this.line&&(typeof this.nzAnimated=="boolean"?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return typeof this.nzAnimated=="boolean"?this.nzAnimated:this.nzAnimated.tabPane}allTabs=new tt;tabLinks=new tt;tabNavBarRef;tabs=new tt;extraContents=ee(ge);dir="ltr";tabSetId;indexToSelect=0;selectedIndex=null;tabLabelSubscription=gt.EMPTY;canDeactivateSubscription=gt.EMPTY;router=m(ie,{optional:!0});constructor(){this.tabSetId=An++,m(te)==="nz-tabset"&&oe(`${Dt} <nz-tabset> is deprecated, please use <nz-tabs> instead.`),this.destroyRef.onDestroy(()=>{this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()})}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(M(this.destroyRef)).subscribe(s=>{this.dir=s,this.cdr.detectChanges()})}ngAfterContentInit(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this.setUpRouter())}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabs.changes.pipe(M(this.destroyRef)).subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){let o=this.tabs.toArray();for(let r=0;r<o.length;r++)if(o[r].isActive){this.indexToSelect=this.selectedIndex=r;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){let s=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==s){let o=this.selectedIndex==null;o||this.nzSelectChange.emit(this.createChangeEvent(s)),Promise.resolve().then(()=>{this.tabs.forEach((r,v)=>r.setActive(v===s)),o||this.nzSelectedIndexChange.emit(s)})}this.tabs.forEach((o,r)=>{o.position=r-s,this.selectedIndex!=null&&o.position===0&&!o.origin&&(o.origin=s-this.selectedIndex)}),this.selectedIndex!==s&&(this.selectedIndex=s,this.cdr.markForCheck())}onClose(s,o){o.preventDefault(),o.stopPropagation(),this.nzClose.emit({index:s})}onAdd(){this.nzAdd.emit()}clampTabIndex(s){return Math.min(this.tabs.length-1,Math.max(s||0,0))}createChangeEvent(s){let o=new Rt;return o.index=s,this.tabs&&this.tabs.length&&(o.tab=this.tabs.toArray()[s],this.tabs.forEach((r,v)=>{v!==s&&r.nzDeselect.emit()}),o.tab.nzSelect.emit()),o}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=$(...this.tabs.map(s=>s.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe(vt(this.allTabs)).subscribe(s=>{this.tabs.reset(s.filter(o=>o.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(s,o){return typeof this.nzCanDeactivate=="function"?se(this.nzCanDeactivate(s,o)).pipe(Vt(),M(this.destroyRef)):Ct(!0)}clickNavItem(s,o,r){s.nzDisabled||(s.nzClick.emit(),this.isRouterLinkClickEvent(o,r)||this.setSelectedIndex(o))}isRouterLinkClickEvent(s,o){let r=o.target;return this.nzLinkRouter?!!this.tabs.toArray()[s]?.linkDirective?.elementRef.nativeElement.contains(r):!1}contextmenuNavItem(s,o){s.nzDisabled||s.nzContextmenu.emit(o)}setSelectedIndex(s){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,s).subscribe(o=>{o&&(this.nzSelectedIndex=s,this.tabNavBarRef.focusIndex=s,this.cdr.markForCheck())})}getTabIndex(s,o){return s.nzDisabled?null:this.selectedIndex===o?0:-1}getTabContentId(s){return`nz-tabs-${this.tabSetId}-tab-${s}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${Dt} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);$(this.router.events.pipe(Ft(s=>s instanceof ne)),this.tabLinks.changes).pipe(vt(!0),Ht(0),M(this.destroyRef)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router?.navigated){let s=this.findShouldActiveTabIndex();s!==this.selectedIndex&&this.setSelectedIndex(s),Promise.resolve().then(()=>this.nzHideAll=s===-1)}}findShouldActiveTabIndex(){let s=this.tabs.toArray(),o=this.isLinkActive(this.router);return s.findIndex(r=>{let v=r.linkDirective;return v?o(v.routerLink):!1})}isLinkActive(s){return o=>o?!!s?.isActive(o.urlTree||"",{paths:this.nzLinkExact?"exact":"subset",queryParams:this.nzLinkExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"}):!1}static \u0275fac=function(o){return new(o||bt)};static \u0275cmp=L({type:bt,selectors:[["nz-tabs"],["nz-tabset"]],contentQueries:function(o,r,v){if(o&1&&(Zt(v,r.extraContents,ge,4),st(v,kn,5)(v,Se,5)),o&2){Ut();let b;y(b=I())&&(r.allTabs=b),y(b=I())&&(r.tabLinks=b)}},viewQuery:function(o,r){if(o&1&&rt(Mt,5),o&2){let v;y(v=I())&&(r.tabNavBarRef=v.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(o,r){o&2&&B("ant-tabs-card",r.nzType==="card"||r.nzType==="editable-card")("ant-tabs-editable",r.nzType==="editable-card")("ant-tabs-editable-card",r.nzType==="editable-card")("ant-tabs-centered",r.nzCentered)("ant-tabs-rtl",r.dir==="rtl")("ant-tabs-top",r.nzTabPosition==="top")("ant-tabs-bottom",r.nzTabPosition==="bottom")("ant-tabs-left",r.nzTabPosition==="left")("ant-tabs-right",r.nzTabPosition==="right")("ant-tabs-default",r.nzSize==="default")("ant-tabs-small",r.nzSize==="small")("ant-tabs-large",r.nzSize==="large")},inputs:{nzSelectedIndex:"nzSelectedIndex",nzTabPosition:"nzTabPosition",nzTabBarExtraContent:"nzTabBarExtraContent",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:[2,"nzHideAdd","nzHideAdd",x],nzCentered:[2,"nzCentered","nzCentered",x],nzHideAll:[2,"nzHideAll","nzHideAll",x],nzLinkRouter:[2,"nzLinkRouter","nzLinkRouter",x],nzLinkExact:[2,"nzLinkExact","nzLinkExact",x],nzDestroyInactiveTabPane:[2,"nzDestroyInactiveTabPane","nzDestroyInactiveTabPane",x]},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabs"],features:[Jt([{provide:Ne,useExisting:$t(()=>bt)}])],decls:4,vars:12,consts:[["tabpaneTmpl",""],[3,"style","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","extraContents"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],[3,"tabScroll","selectFocusedIndex","addClicked","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","extraContents"],[1,"ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled"],[1,"ant-tabs-tab",3,"click","contextmenu"],["type","button","role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"id","disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["type","button","nz-tab-close-button","",3,"closeIcon"],["type","button","nz-tab-close-button","",3,"click","closeIcon"],[3,"ngTemplateOutlet"],["role","tabpanel","nz-tab-body","",3,"id","active","content","animated"]],template:function(o,r){o&1&&(N(0,mn,3,10,"nz-tabs-nav",1),g(1,"div",2)(2,"div",3),N(3,vn,2,0),C()()),o&2&&(k(r.tabs.length||r.addable?0:-1),u(2),B("ant-tabs-content-top",r.nzTabPosition==="top")("ant-tabs-content-bottom",r.nzTabPosition==="bottom")("ant-tabs-content-left",r.nzTabPosition==="left")("ant-tabs-content-right",r.nzTabPosition==="right")("ant-tabs-content-animated",r.tabPaneAnimated),u(),k(r.nzHideAll?-1:3))},dependencies:[Mt,mt,we,_e,ze,K,U,Ie,xn],encapsulation:2})}})();var bi=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=qt({type:e});static \u0275inj=Xt({imports:[En,Mt,Bt,zt,Ie]})}return e})();export{kn as a,En as b,bi as c};
