import{a as A}from"./chunk-4LIPB2QT.js";import{a as w}from"./chunk-EJLMHQWM.js";import{b as T}from"./chunk-G2PUQBQN.js";import{a as M,b as P}from"./chunk-6NKO53PZ.js";import{Ac as D,Ia as C,jc as E,ma as h,sa as $,wc as I,xc as _,zc as B}from"./chunk-ZETHPMKV.js";import{$d as g,Bd as v,Db as l,Jd as N,Ub as m,Vb as u,Wb as k,Xb as d,f as a,fc as b,g as p,ib as r,sb as c,we as S,xb as f,xc as y,zc as z,ze as x}from"./chunk-QOGHAKX2.js";var L=a(A(),1);var W=a($(),1);function F(i,e){i&1&&d(0,"nz-spin",3)}var s=class i{constructor(e){this.notification=e}$t=x;submitting=!1;bookmarksExport(){return p(this,null,function*(){if(!g())return this.notification.error("Error","Bad credentials");if(this.submitting)return;let e=h({navs:S(),callback:o=>{for(let t in o)["title","nav","icon"].includes(t)||delete o[t]},webCallback:o=>{for(let t in o)["url","icon","name"].includes(t)||delete o[t]}});this.submitting=!0,C({data:W.default.compress(JSON.stringify(e))}).then(o=>{let t="bookmarks.html",n=new Blob([o.data.data],{type:"text/html;charset=utf-8"});(0,L.saveAs)(n,t),this.notification.success("OK",t,{nzDuration:0})}).finally(()=>{this.submitting=!1})})}static \u0275fac=function(o){return new(o||i)(c(w))};static \u0275cmp=f({type:i,selectors:[["system-bookmark-export"]],decls:4,vars:3,consts:[["nzSimple","","nzSize","large","class","text-center",4,"ngIf"],[1,"book-wrapper","mt-10"],["nz-button","","nzType","primary",3,"click","nzLoading"],["nzSimple","","nzSize","large",1,"text-center"]],template:function(o,t){o&1&&(l(0,F,1,0,"nz-spin",0),u(1,"div",1)(2,"button",2),b("click",function(){return t.bookmarksExport()}),y(3),k()()),o&2&&(m("ngIf",t.submitting),r(2),m("nzLoading",t.submitting),r(),z(" ",t.$t("_clickExport")," "))},dependencies:[N,v,T,P,M,E,D,B,I,_],encapsulation:2})};export{s as default};
