import{a as Gt}from"./chunk-SVY46NFY.js";import{a as zt}from"./chunk-US2XADZ7.js";import{r as Ve,s as We,v as Ye}from"./chunk-XOY3Y4SI.js";import{a as Qe}from"./chunk-IN2XVMTJ.js";import{K as He,M as Le,Pa as je,R as Re,Sa as Be,T as ft,Xa as Je,Ya as Ue,e as Et}from"./chunk-WG6V2IBL.js";import{$b as Ie,Aa as Se,Ac as re,Ad as kt,Bd as st,Db as D,Fd as ht,Gd as Ae,Jd as X,Ka as U,Na as oe,Nb as Wt,Pb as Yt,Pc as Qt,Q as ye,Qc as Mt,Rb as ze,Sb as De,T as Ce,Tb as Pe,Ub as x,Uc as Jt,Vb as v,Vc as Ut,Wb as y,Wd as yt,Xb as Z,Xc as bt,Yb as E,Zb as O,_b as wt,a as Ft,ac as Te,cc as tt,d as cn,dc as Ee,eb as Vt,f as ge,fb as Me,fc as et,hc as Oe,ib as l,ic as w,ja as ve,jc as jt,jd as Ne,kc as Bt,la as _e,lc as $e,mc as mt,md as Tt,na as F,nc as q,nd as ae,oc as G,oe as Zt,p as ne,pe as qt,rb as se,re as Fe,sa as j,sb as xt,sc as St,ta as B,tc as P,ua as xe,uc as N,v as pt,w as R,xa as we,xb as M,xc as _,xe as $,yb as be,yc as k,za as ie,zb as ke,zc as V,ze as b}from"./chunk-QOKH3H5X.js";var de=cn((le,ce)=>{"use strict";(function(i,n){typeof le=="object"&&typeof ce<"u"?ce.exports=n():typeof define=="function"&&define.amd?define(n):(i=typeof globalThis<"u"?globalThis:i||self).dayjs=n()})(le,function(){"use strict";var i=1e3,n=6e4,t=36e5,e="millisecond",o="second",C="minute",I="hour",L="day",it="week",A="month",lt="quarter",W="year",Q="date",Dt="Invalid Date",Nt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,At=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ht={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(m){var c=["th","st","nd","rd"],r=m%100;return"["+m+(c[(r-20)%10]||c[r]||c[0])+"]"}},Ct=function(m,c,r){var p=String(m);return!p||p.length>=c?m:""+Array(c+1-p.length).join(r)+m},Lt={s:Ct,z:function(m){var c=-m.utcOffset(),r=Math.abs(c),p=Math.floor(r/60),a=r%60;return(c<=0?"+":"-")+Ct(p,2,"0")+":"+Ct(a,2,"0")},m:function m(c,r){if(c.date()<r.date())return-m(r,c);var p=12*(r.year()-c.year())+(r.month()-c.month()),a=c.clone().add(p,A),f=r-a<0,u=c.clone().add(p+(f?-1:1),A);return+(-(p+(r-a)/(f?a-u:u-a))||0)},a:function(m){return m<0?Math.ceil(m)||0:Math.floor(m)},p:function(m){return{M:A,y:W,w:it,d:L,D:Q,h:I,m:C,s:o,ms:e,Q:lt}[m]||String(m||"").toLowerCase().replace(/s$/,"")},u:function(m){return m===void 0}},ct="en",ot={};ot[ct]=Ht;var ue="$isDayjsObject",g=function(m){return m instanceof at||!(!m||!m[ue])},s=function m(c,r,p){var a;if(!c)return ct;if(typeof c=="string"){var f=c.toLowerCase();ot[f]&&(a=f),r&&(ot[f]=r,a=f);var u=c.split("-");if(!a&&u.length>1)return m(u[0])}else{var S=c.name;ot[S]=c,a=S}return!p&&a&&(ct=a),a||!p&&ct},d=function(m,c){if(g(m))return m.clone();var r=typeof c=="object"?c:{};return r.date=m,r.args=arguments,new at(r)},h=Lt;h.l=s,h.i=g,h.w=function(m,c){return d(m,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var at=(function(){function m(r){this.$L=s(r.locale,null,!0),this.parse(r),this.$x=this.$x||r.x||{},this[ue]=!0}var c=m.prototype;return c.parse=function(r){this.$d=(function(p){var a=p.date,f=p.utc;if(a===null)return new Date(NaN);if(h.u(a))return new Date;if(a instanceof Date)return new Date(a);if(typeof a=="string"&&!/Z$/i.test(a)){var u=a.match(Nt);if(u){var S=u[2]-1||0,z=(u[7]||"0").substring(0,3);return f?new Date(Date.UTC(u[1],S,u[3]||1,u[4]||0,u[5]||0,u[6]||0,z)):new Date(u[1],S,u[3]||1,u[4]||0,u[5]||0,u[6]||0,z)}}return new Date(a)})(r),this.init()},c.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},c.$utils=function(){return h},c.isValid=function(){return this.$d.toString()!==Dt},c.isSame=function(r,p){var a=d(r);return this.startOf(p)<=a&&a<=this.endOf(p)},c.isAfter=function(r,p){return d(r)<this.startOf(p)},c.isBefore=function(r,p){return this.endOf(p)<d(r)},c.$g=function(r,p,a){return h.u(r)?this[p]:this.set(a,r)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(r,p){var a=this,f=!!h.u(p)||p,u=h.p(r),S=function(gt,Y){var dt=h.w(a.$u?Date.UTC(a.$y,Y,gt):new Date(a.$y,Y,gt),a);return f?dt:dt.endOf(L)},z=function(gt,Y){return h.w(a.toDate()[gt].apply(a.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(Y)),a)},T=this.$W,H=this.$M,J=this.$D,_t="set"+(this.$u?"UTC":"");switch(u){case W:return f?S(1,0):S(31,11);case A:return f?S(1,H):S(0,H+1);case it:var ut=this.$locale().weekStart||0,Pt=(T<ut?T+7:T)-ut;return S(f?J-Pt:J+(6-Pt),H);case L:case Q:return z(_t+"Hours",0);case I:return z(_t+"Minutes",1);case C:return z(_t+"Seconds",2);case o:return z(_t+"Milliseconds",3);default:return this.clone()}},c.endOf=function(r){return this.startOf(r,!1)},c.$set=function(r,p){var a,f=h.p(r),u="set"+(this.$u?"UTC":""),S=(a={},a[L]=u+"Date",a[Q]=u+"Date",a[A]=u+"Month",a[W]=u+"FullYear",a[I]=u+"Hours",a[C]=u+"Minutes",a[o]=u+"Seconds",a[e]=u+"Milliseconds",a)[f],z=f===L?this.$D+(p-this.$W):p;if(f===A||f===W){var T=this.clone().set(Q,1);T.$d[S](z),T.init(),this.$d=T.set(Q,Math.min(this.$D,T.daysInMonth())).$d}else S&&this.$d[S](z);return this.init(),this},c.set=function(r,p){return this.clone().$set(r,p)},c.get=function(r){return this[h.p(r)]()},c.add=function(r,p){var a,f=this;r=Number(r);var u=h.p(p),S=function(H){var J=d(f);return h.w(J.date(J.date()+Math.round(H*r)),f)};if(u===A)return this.set(A,this.$M+r);if(u===W)return this.set(W,this.$y+r);if(u===L)return S(1);if(u===it)return S(7);var z=(a={},a[C]=n,a[I]=t,a[o]=i,a)[u]||1,T=this.$d.getTime()+r*z;return h.w(T,this)},c.subtract=function(r,p){return this.add(-1*r,p)},c.format=function(r){var p=this,a=this.$locale();if(!this.isValid())return a.invalidDate||Dt;var f=r||"YYYY-MM-DDTHH:mm:ssZ",u=h.z(this),S=this.$H,z=this.$m,T=this.$M,H=a.weekdays,J=a.months,_t=a.meridiem,ut=function(Y,dt,It,Rt){return Y&&(Y[dt]||Y(p,f))||It[dt].slice(0,Rt)},Pt=function(Y){return h.s(S%12||12,Y,"0")},gt=_t||function(Y,dt,It){var Rt=Y<12?"AM":"PM";return It?Rt.toLowerCase():Rt};return f.replace(At,function(Y,dt){return dt||(function(It){switch(It){case"YY":return String(p.$y).slice(-2);case"YYYY":return h.s(p.$y,4,"0");case"M":return T+1;case"MM":return h.s(T+1,2,"0");case"MMM":return ut(a.monthsShort,T,J,3);case"MMMM":return ut(J,T);case"D":return p.$D;case"DD":return h.s(p.$D,2,"0");case"d":return String(p.$W);case"dd":return ut(a.weekdaysMin,p.$W,H,2);case"ddd":return ut(a.weekdaysShort,p.$W,H,3);case"dddd":return H[p.$W];case"H":return String(S);case"HH":return h.s(S,2,"0");case"h":return Pt(1);case"hh":return Pt(2);case"a":return gt(S,z,!0);case"A":return gt(S,z,!1);case"m":return String(z);case"mm":return h.s(z,2,"0");case"s":return String(p.$s);case"ss":return h.s(p.$s,2,"0");case"SSS":return h.s(p.$ms,3,"0");case"Z":return u}return null})(Y)||u.replace(":","")})},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(r,p,a){var f,u=this,S=h.p(p),z=d(r),T=(z.utcOffset()-this.utcOffset())*n,H=this-z,J=function(){return h.m(u,z)};switch(S){case W:f=J()/12;break;case A:f=J();break;case lt:f=J()/3;break;case it:f=(H-T)/6048e5;break;case L:f=(H-T)/864e5;break;case I:f=H/t;break;case C:f=H/n;break;case o:f=H/i;break;default:f=H}return a?f:h.a(f)},c.daysInMonth=function(){return this.endOf(A).$D},c.$locale=function(){return ot[this.$L]},c.locale=function(r,p){if(!r)return this.$L;var a=this.clone(),f=s(r,p,!0);return f&&(a.$L=f),a},c.clone=function(){return h.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},m})(),vt=at.prototype;return d.prototype=vt,[["$ms",e],["$s",o],["$m",C],["$H",I],["$W",L],["$M",A],["$y",W],["$D",Q]].forEach(function(m){vt[m[1]]=function(c){return this.$g(c,m[0],m[1])}}),d.extend=function(m,c){return m.$i||(m(c,at,d),m.$i=!0),d},d.locale=s,d.isDayjs=g,d.unix=function(m){return d(1e3*m)},d.en=ot[ct],d.Ls=ot,d.p={},d})});var Ze=class i{data;component=$();date="";day="";week="";dayOfYear="";constructor(){let n=We();this.date=b("_calendarDate",{year:n.year,month:n.month}),this.day=n.zeroDate,this.week=n.dayText,this.dayOfYear=b("_dayOfYear",{day:Ve()})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=M({type:i,selectors:[["app-calendar"]],inputs:{data:"data"},decls:11,vars:10,consts:[[1,"calendar","family","citems"],[1,"ctop"],[1,"box"],[1,"cday"],[1,"cdate"],[1,"mr-1.5"]],template:function(t,e){t&1&&(E(0,"div",0)(1,"div",1),_(2),O(),E(3,"div",2)(4,"div",3),_(5),O(),E(6,"div",4)(7,"span",5),_(8),O(),E(9,"span"),_(10),O()()()()),t&2&&(P("zoom",e.component.zoom),l(),P("background",e.data.topColor),l(),V(" ",e.date," "),l(),P("background",e.data.bgColor),l(2),k(e.day),l(3),k(e.dayOfYear),l(2),k(e.week))},styles:[".calendar[_ngcontent-%COMP%]{width:130px;height:var(--componentHeight);max-height:100%;border-radius:12px;text-align:center;overflow:hidden;color:#fff;box-shadow:0 0 8px #0006;display:flex;flex-direction:column}.calendar[_ngcontent-%COMP%]   .ctop[_ngcontent-%COMP%]{font-size:17px;height:40px;line-height:0;display:flex;align-items:center;justify-content:center;font-weight:500}.calendar[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{flex:1}.calendar[_ngcontent-%COMP%]   .cday[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:1;padding:24px 0 5px}.calendar[_ngcontent-%COMP%]   .cdate[_ngcontent-%COMP%]{color:#ffffffb3;font-size:13px}"]})};var qe=class i{data;component=$();runDays=0;unit="";constructor(){let n=Date.now()-Fe().runtime;n=n<0?0:n;let t=Math.floor(n/(1e3*60*60*24*365));t>0?(this.runDays=t,this.unit=b("_year")):(this.runDays=Math.floor(n/(1e3*60*60*24)),this.unit=b("_day"))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=M({type:i,selectors:[["app-runtime"]],inputs:{data:"data"},decls:9,vars:5,consts:[[1,"runtime","family","citems"],[1,"title"],[1,"days"],[1,"day"],[1,"unit"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/runtime.svg",1,"img"]],template:function(t,e){t&1&&(E(0,"div",0)(1,"div",1),_(2),O(),E(3,"div",2)(4,"span",3),_(5),O(),E(6,"span",4),_(7),O()(),wt(8,"img",5),O()),t&2&&(P("zoom",e.component.zoom),l(2),k(e.data.title),l(3),k(e.runDays),l(2),k(e.unit))},styles:[".runtime[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:230px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;justify-content:center;padding:30px;flex-direction:column;background:linear-gradient(135deg,#8bc6ec,#9599e2);font-weight:700}.runtime[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:18px;color:#f9f6f6}.runtime[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{z-index:2;position:relative;margin-top:10px;font-size:48px;line-height:1;color:#d67272}.runtime[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{vertical-align:text-bottom}.runtime[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:15px;margin-left:2px;margin-bottom:2px;font-weight:500}.runtime[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px;width:70px}"]})};function dn(i,n){if(i&1&&(v(0,"div",5),_(1),y()),i&2){let t=w();l(),k(t.countdownStr)}}function pn(i,n){i&1&&Z(0,"img",6)}function mn(i,n){i&1&&Z(0,"img",6)}var Ge=class i{data;component=$();timer;countdownStr="";isRest=!1;constructor(){document.addEventListener("visibilitychange",this.visibilitychange.bind(this))}ngOnChanges(){clearTimeout(this.timer),this.init()}ngOnDestroy(){clearTimeout(this.timer),document.removeEventListener("visibilitychange",this.visibilitychange)}visibilitychange(n){n.target.hidden?clearTimeout(this.timer):this.init()}init(){if(this.data){let n=new Date,t=n.getTime(),e=new Date(this.data.startDate);e.setFullYear(n.getFullYear()),e.setMonth(n.getMonth()),e.setDate(n.getDate());let o=e.getTime(),C=new Date(this.data.date);C.setFullYear(n.getFullYear()),C.setMonth(n.getMonth()),C.setDate(n.getDate());let I=C.getTime(),L=(I-t)/1e3,it=L/3600,A=Math.floor(it%1*10)/10,lt=Math.floor(L/60%60),W=Math.floor(L%60),Q=Math.floor(it)+A;if(t>=o&&t<=I)Q>=1?this.countdownStr=b("_hours",{num:Q}):lt>0?this.countdownStr=b("_minutes",{num:lt}):W>=0&&(this.countdownStr=b("_seconds",{num:W}));else return this.isRest=!0,clearTimeout(this.timer);this.isRest=!1}this.timer=setTimeout(()=>this.init(),1e3)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=M({type:i,selectors:[["app-offwork"]],inputs:{data:"data"},features:[U],decls:7,vars:8,consts:[["other",""],[1,"offwork","family","citems"],[1,"title"],["class","coutdown",4,"ngIf"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg","class","img",4,"ngIf","ngIfElse"],[1,"coutdown"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg",1,"img"]],template:function(t,e){if(t&1&&(v(0,"div",1)(1,"div",2),_(2),y(),D(3,dn,2,1,"div",3)(4,pn,1,0,"img",4)(5,mn,1,0,"ng-template",null,0,bt),y()),t&2){let o=St(6);P("zoom",e.component.zoom),N("rest",e.isRest),l(2),V(" ",e.isRest?e.data.restTitle:e.data.workTitle," "),l(),x("ngIf",!e.isRest),l(),x("ngIf",e.isRest)("ngIfElse",o)}},dependencies:[X,st],styles:[".offwork[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;align-items:center;flex-direction:column;font-weight:700;background-color:#fff}.offwork.rest[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;color:#666}.offwork[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:20px;z-index:2;position:relative;font-size:14px;color:gray;text-align:center}.offwork[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%}.offwork[_ngcontent-%COMP%]   .coutdown[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:24px;color:#666}"]})};var Xe=class i{constructor(n){this.jumpService=n}data;component=$();static \u0275fac=function(t){return new(t||i)(xt(zt))};static \u0275cmp=M({type:i,selectors:[["app-image"]],inputs:{data:"data"},decls:3,vars:7,consts:[[1,"cimage","family","citems",3,"click"],[1,"text"]],template:function(t,e){t&1&&(E(0,"div",0),Oe("click",function(C){return e.jumpService.goUrl(C,e.data.go)}),E(1,"div",1),_(2),O()()),t&2&&(P("background-image",e.data.url&&"url("+e.data.url+")")("zoom",e.component.zoom),N("cursor-pointer",e.data.go),l(2),k(e.data.text))},styles:[".cimage[_ngcontent-%COMP%]{position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;background-size:cover}.cimage[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-size:12px;text-align:center;font-weight:500}"]})};var $t=ge(de(),1);var tn=class i{data;component=$();countdownData={};constructor(){}ngOnInit(){this.init()}ngOnChanges(){this.init()}init(){let n={};this.data.date&&(n.dateStr=(0,$t.default)(this.data.date).format("YYYY.MM.DD"),n.dayStr=(0,$t.default)((0,$t.default)(this.data.date).format("YYYY-MM-DD")).diff((0,$t.default)().format("YYYY-MM-DD"),"day"),n.dayStr=n.dayStr<0?0:n.dayStr,n.dayStr=n.dayStr>9999?9999:n.dayStr),this.countdownData=n}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=M({type:i,selectors:[["app-countdown"]],inputs:{data:"data"},features:[U],decls:8,vars:15,consts:[[1,"holiday","family","citems"],[1,"top"],[1,"box"],[1,"days"],[1,"date"]],template:function(t,e){t&1&&(E(0,"div",0)(1,"div",1),_(2),O(),E(3,"div",2)(4,"div",3),_(5),O(),E(6,"div",4),_(7),O()()()),t&2&&(P("zoom",e.component.zoom),l(),P("background",e.data.topColor),l(),V(" ",e.data.title," "),l(),P("background-image",e.data.url&&"url("+e.data.url+")")("background-color",e.data.bgColor),l(),P("color",e.data.dayColor),l(),V(" ",e.countdownData.dayStr," "),l(),P("color",e.data.dateColor),l(),V(" - ",e.countdownData.dateStr," - "))},styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:160px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;flex-direction:column;text-align:center}.holiday[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:6px 10px;font-weight:500}.holiday[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{position:relative;flex:1;background-size:cover}.holiday[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-weight:700;font-size:50px;margin-top:16px}.holiday[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-weight:500}"]})};var hn=["root"],en=class i{data;root;parseDescriptionTimer;component=$();html="";constructor(){}ngOnChanges(){this.init(),this.parseDescription()}ngOnDestroy(){clearTimeout(this.parseDescriptionTimer)}init(){this.html=qt(`!${this.data.html}`)}parseDescription(){clearTimeout(this.parseDescriptionTimer),this.parseDescriptionTimer=setTimeout(()=>{Zt(this.root?.nativeElement,`!${this.html}`)},300)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=M({type:i,selectors:[["app-html"]],viewQuery:function(t,e){if(t&1&&mt(hn,5),t&2){let o;q(o=G())&&(e.root=o.first)}},inputs:{data:"data"},features:[U],decls:3,vars:9,consts:[["root",""],[1,"html","family","citems",3,"innerHTML"]],template:function(t,e){t&1&&(wt(0,"div",1,0),Jt(2,"safeHtml")),t&2&&(P("zoom",e.component.zoom)("width",e.data.width+"px")("background",e.data.bgColor),Ee("innerHTML",Ut(2,7,e.html),Vt))},dependencies:[Gt],styles:[".html[_ngcontent-%COMP%]{position:relative;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;overflow-wrap:break-word}"]})};var rt=ge(de(),1);function fn(i,n){if(i&1&&(v(0,"span",10),_(1),y()),i&2){let t=w(2);l(),k(t.$t("_rest"))}}function un(i,n){if(i&1&&(Ie(0),_(1),Te()),i&2){let t=w(2);l(),V("- ",t.items[0].afterDay)}}function gn(i,n){if(i&1&&(v(0,"span",10),_(1),y()),i&2){let t=w(3);l(),k(t.$t("_rest"))}}function yn(i,n){if(i&1&&(v(0,"div",14),_(1),y()),i&2){let t=w().$implicit,e=w(2);l(),re(" ",t.diffDay,"",e.$t("_day")," ")}}function Cn(i,n){if(i&1&&(v(0,"div",11)(1,"div",12),_(2),D(3,gn,2,1,"span",6),y(),D(4,yn,2,2,"div",13),y()),i&2){let t=n.$implicit;l(2),re(" ",t.title," ",t.dateStr),l(),x("ngIf",t.day>0),l(),x("ngIf",t.diffDay>0)}}function vn(i,n){if(i&1&&(v(0,"div",1)(1,"div",2)(2,"div",3),_(3),y(),v(4,"div",4),_(5),y(),v(6,"div",5),D(7,fn,2,1,"span",6),v(8,"span"),_(9),D(10,un,2,1,"ng-container",7),y()()(),v(11,"div",8),D(12,Cn,5,4,"div",9),y()()),i&2){let t=w();P("zoom",t.component.zoom),l(),N("today",t.items[0].isToday||t.items[0].isRest),l(2),V(" ",t.items[0].isToday||t.items[0].isRest?t.$t("_dayIs"):t.$t("_distance")+t.items[0].title," "),l(2),k(t.items[0].diffStr),l(2),x("ngIf",t.items[0].day>0),l(2),V("",t.items[0].dateStr," "),l(),x("ngIf",t.items[0].afterDay),l(2),x("ngForOf",t.items)}}var nn=class i{data;items=[];component=$();$t=b;constructor(){}ngOnChanges(){this.init()}init(){let n=[],t=(0,rt.default)((0,rt.default)().format("YYYY-MM-DD"));this.data.items&&(n=[...this.data.items].filter(e=>{e.date=(0,rt.default)(e.date).format("YYYY-MM-DD");let o=(0,rt.default)(e.date);return e.day>0&&(o=o.add(e.day-1,"day")),!o.isBefore(t)}).slice(0,4).map(e=>(e.dateStr=(0,rt.default)(e.date).format("MM.DD"),e.diffDay=(0,rt.default)((0,rt.default)(e.date).format("YYYY-MM-DD")).diff(t,"day"),e.diffDay=e.diffDay<0?0:e.diffDay,e.diffDay=e.diffDay>999?999:e.diffDay,e.diffStr=e.diffDay,e.day>0&&(e.afterDay=(0,rt.default)(e.date).add(e.day-1,"day").format("MM.DD"),e.afterDay===e.dateStr&&(e.afterDay=null)),e.isToday=e.dateStr===(0,rt.default)().format("MM.DD"),e.diffDay<=0&&(e.isToday?e.diffStr=e.title:(e.isRest=!0,e.diffStr="\u4F11\u606F\u65E5")),e))),this.items=n}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=M({type:i,selectors:[["app-holiday"]],inputs:{data:"data"},features:[U],decls:1,vars:1,consts:[["class","holiday family citems",3,"zoom",4,"ngIf"],[1,"holiday","family","citems"],[1,"left"],[1,"title"],[1,"days"],[1,"flex","items-center","justify-center","whitespace-nowrap"],["class","tag",4,"ngIf"],[4,"ngIf"],[1,"right"],["class","items",4,"ngFor","ngForOf"],[1,"tag"],[1,"items"],[1,"cleft"],["class","cright",4,"ngIf"],[1,"cright"]],template:function(t,e){t&1&&D(0,vn,13,10,"div",0),t&2&&x("ngIf",e.items.length)},dependencies:[X,kt,st],styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:320px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;background-color:#fff;color:#666}.holiday[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:140px;padding:12px 0 12px 12px;display:flex;flex-direction:column}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:46px;text-align:center;font-weight:700;color:#000000d9;flex:1;display:flex;align-items:center;justify-content:center}.holiday[_ngcontent-%COMP%]   .left.today[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:30px}.holiday[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background-color:#dffcea;color:#55aa6f;font-size:10px;font-weight:500;padding:1px 2px;border-radius:2px;display:inline-flex;align-items:center;justify-content:center;margin-right:3px;margin-left:2px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;padding:12px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:4px 0;color:#000c}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:not(:nth-last-child(1)){margin-bottom:3px;border-bottom:1px solid #eee}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]{position:relative;white-space:nowrap;display:flex;align-items:center}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{position:absolute;top:50%;left:-5px;transform:translate(-100%,-50%)}.holiday[_ngcontent-%COMP%]   .cright[_ngcontent-%COMP%]{font-weight:500}"]})};var on={1:b("_weibo"),2:"V2EX",3:b("_douyin"),4:b("_bilibili"),5:b("_juejin"),6:b("_baidu"),7:"GitHub",8:b("_52"),9:b("_hongshu"),10:b("_toutiao"),11:b("_douban"),12:"Hacker News",13:b("_zhihu"),14:b("_zhihuDaily")};var Xt=class i{constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=M({type:i,selectors:[["app-loading"]],decls:2,vars:0,consts:[["viewBox","25 25 50 50",1,"cc1"],["cx","50","cy","50","r","20","fill","none",1,"cc2"]],template:function(t,e){t&1&&(xe(),E(0,"svg",0),wt(1,"circle",1),O())},styles:[".cc1[_ngcontent-%COMP%]{z-index:2;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:15px;height:15px;animation:my-rotatex1 2s linear infinite}.cc2[_ngcontent-%COMP%]{stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:5;stroke:#6d8ba7;stroke-linecap:round;animation:loading-dashx2 1.5s ease-in-out infinite}"],changeDetection:0})};var _n=["parent"],xn=["content"],wn=["item"],Sn=(i,n)=>({zoom:i,background:n});function Mn(i,n){if(i&1){let t=tt();v(0,"div",10,2),et("mouseenter",function(){let o=j(t).index,C=w();return B(C.onMouseEnter(o))}),_(2),y()}if(i&2){let t=n.$implicit,e=n.index,o=w();N("active",e===o.activeIndex),l(2),V(" ",o.newsTypeMap[t]," ")}}function bn(i,n){i&1&&Z(0,"app-loading")}function kn(i,n){if(i&1&&(v(0,"div",11),_(1),y()),i&2){let t=w();l(),V(" ",t.$t("_noNews")," ")}}function zn(i,n){if(i&1&&(v(0,"span",16),_(1),y()),i&2){let t=w().$implicit;l(),k(t.hot)}}function Dn(i,n){if(i&1){let t=tt();v(0,"div",12),et("click",function(o){let C=j(t).$implicit,I=w();return B(I.jumpService.goUrl(o,C.url))}),v(1,"span",13),_(2),y(),v(3,"span",14),_(4),y(),D(5,zn,2,1,"span",15),y()}if(i&2){let t=n.$implicit,e=n.index;l(2),k(e+1),l(2),k(t.text),l(),x("ngIf",t.hot)}}var sn=class i{constructor(n){this.jumpService=n;let t=localStorage.getItem(yt.NEWS);if(t)try{this.newsListMap=JSON.parse(t)}catch{}}parentElement;contentRef;items;data;$t=b;newsTypeMap=on;component=$();activeIndex=0;newsListMap={};loading=!1;get newsList(){let n=this.data.types;return this.newsListMap[n[this.activeIndex]]||[]}ngOnChanges(){this.getNews()}onMouseEnter(n){this.activeIndex=n,this.contentRef.nativeElement.scrollTop=0}scrollIntoViewTabs(){Ye(this.parentElement.nativeElement,this.items.toArray()[this.activeIndex].nativeElement,{behavior:"smooth"})}getNews(){let n=this.data.types;if(!n||n.length<=0){localStorage.removeItem(yt.NEWS),localStorage.removeItem(yt.NEWS_DATE);return}let t=Date.now(),e=Number(localStorage.getItem(yt.NEWS_DATE));e&&t-e<36e5||(this.newsList.length<=0&&(this.loading=!0),je(Ft({},this.data)).then(o=>{this.newsListMap=Ft(Ft({},this.newsListMap),o.data),localStorage.setItem(yt.NEWS,JSON.stringify(this.newsListMap)),localStorage.setItem(yt.NEWS_DATE,JSON.stringify(Date.now()))}).finally(()=>{this.loading=!1}))}trackByItem(n,t){return t.text}static \u0275fac=function(t){return new(t||i)(xt(zt))};static \u0275cmp=M({type:i,selectors:[["app-news"]],viewQuery:function(t,e){if(t&1&&mt(_n,5)(xn,5)(wn,5),t&2){let o;q(o=G())&&(e.parentElement=o.first),q(o=G())&&(e.contentRef=o.first),q(o=G())&&(e.items=o)}},inputs:{data:"data"},features:[U],decls:9,vars:9,consts:[["parent",""],["content",""],["item",""],[1,"news","citems","family",3,"ngStyle"],[1,"tabs","hidden-scrollbar",3,"mouseleave","click"],["class","tab",3,"active","mouseenter",4,"ngFor","ngForOf"],[1,"content-box","hidden-scrollbar"],[4,"ngIf"],["class","nodata",4,"ngIf"],["class","content ellipsis",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tab",3,"mouseenter"],[1,"nodata"],[1,"content","ellipsis",3,"click"],[1,"mr-2","n"],[1,"mid","ellipsis"],["class","ml-2.5",4,"ngIf"],[1,"ml-2.5"]],template:function(t,e){if(t&1){let o=tt();v(0,"div",3)(1,"div",4,0),et("mouseleave",function(){return j(o),B(e.scrollIntoViewTabs())})("click",function(){return j(o),B(e.scrollIntoViewTabs())}),D(3,Mn,3,3,"div",5),y(),v(4,"div",6,1),D(6,bn,1,0,"app-loading",7)(7,kn,2,1,"div",8)(8,Dn,6,3,"div",9),y()()}t&2&&(x("ngStyle",Mt(6,Sn,e.component.zoom,e.data.bgColor)),l(3),x("ngForOf",e.data.types),l(3),x("ngIf",e.loading),l(),x("ngIf",!e.loading&&e.newsList.length===0),l(),x("ngForOf",e.newsList)("ngForTrackBy",e.trackByItem))},dependencies:[X,kt,st,ht,Xt],styles:[".news[_ngcontent-%COMP%]{position:relative;width:310px;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;background:linear-gradient(100deg,#2a2d38,#535a68);color:#fff;padding:10px 10px 0;font-size:12px;display:flex;flex-direction:column}.news[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;column-gap:4px;white-space:nowrap;overflow:hidden;overflow-x:auto}.news[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{border-radius:4px;padding:2px 4px;cursor:pointer;transition:all .2s linear}.news[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background-color:#fff2}.news[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{position:relative;flex:1;overflow:hidden;overflow-y:auto;padding:10px 0;color:#f1f1f1}.news[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#aeaeae}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:not(:last-child){margin-bottom:4px}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:hover{opacity:.9}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(1)   .n[_ngcontent-%COMP%]{color:#fff}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(2)   .n[_ngcontent-%COMP%]{color:#ffffffe6}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(3)   .n[_ngcontent-%COMP%]{color:#fffc}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mid[_ngcontent-%COMP%]{flex:1}.news[_ngcontent-%COMP%]   .n[_ngcontent-%COMP%]{color:#969c9c}"]})};var In=["slickList"],Tn=["slickTrack"],En=["*"],On=i=>({$implicit:i});function $n(i,n){if(i&1){let t=tt();v(0,"button",9),et("click",function(){j(t);let o=w();return B(o.pre())}),y()}if(i&2){let t=w();N("slick-disabled",t.activeIndex===0)}}function Nn(i,n){if(i&1){let t=tt();v(0,"button",10),et("click",function(){j(t);let o=w();return B(o.next())}),y()}if(i&2){let t=w();N("slick-disabled",t.activeIndex===t.carouselContents.length-1)}}function An(i,n){}function Hn(i,n){if(i&1){let t=tt();v(0,"li",13),et("click",function(){let o=j(t).$index,C=w(2);return B(C.goTo(o))}),D(1,An,0,0,"ng-template",14),y()}if(i&2){let t=n.$index,e=w(2),o=St(10);N("slick-active",t===e.activeIndex),l(),x("ngTemplateOutlet",e.nzDotRender||o)("ngTemplateOutletContext",Qt(4,On,t))}}function Ln(i,n){if(i&1&&(v(0,"ul",11),De(1,Hn,2,6,"li",12,ze),y()),i&2){let t=w();N("slick-dots-top",t.nzDotPosition==="top")("slick-dots-bottom",t.nzDotPosition==="bottom")("slick-dots-left",t.nzDotPosition==="left")("slick-dots-right",t.nzDotPosition==="right"),l(),Pe(t.carouselContents)}}function Rn(i,n){if(i&1&&(v(0,"button"),_(1),y()),i&2){let t=n.$implicit;l(),k(t+1)}}var fe=(()=>{class i{renderer=F(se);el=F(oe).nativeElement;set isActive(t){this._active=t,this.isActive?this.renderer.addClass(this.el,"slick-active"):this.renderer.removeClass(this.el,"slick-active")}get isActive(){return this._active}_active=!1;static \u0275fac=function(e){return new(e||i)};static \u0275dir=ke({type:i,selectors:[["","nz-carousel-content",""]],hostAttrs:[1,"slick-slide"],exportAs:["nzCarouselContent"]})}return i})(),Kt=class{cdr;renderer;platform;options;carouselComponent;contents;slickListEl;slickTrackEl;length;unitWidth;unitHeight;get maxIndex(){return this.length-1}get firstEl(){return this.contents[0].el}get lastEl(){return this.contents[this.maxIndex].el}constructor(n,t,e,o,C){this.cdr=t,this.renderer=e,this.platform=o,this.options=C,this.carouselComponent=n}withCarouselContents(n){let t=this.carouselComponent;if(this.slickListEl=t.slickListEl,this.slickTrackEl=t.slickTrackEl,this.contents=n?.toArray()||[],this.length=this.contents.length,this.platform.isBrowser){let e=t.el.getBoundingClientRect();this.unitWidth=e.width,this.unitHeight=e.height}else n?.forEach((e,o)=>{o===0?this.renderer.setStyle(e.el,"width","100%"):this.renderer.setStyle(e.el,"display","none")})}dragging(n){}dispose(){}getFromToInBoundary(n,t){let e=this.maxIndex+1;return{from:(n+e)%e,to:(t+e)%e}}},pe=class extends Kt{withCarouselContents(n){super.withCarouselContents(n),this.contents&&(this.slickTrackEl.style.width=`${this.length*this.unitWidth}px`,this.contents.forEach((t,e)=>{this.renderer.setStyle(t.el,"opacity",this.carouselComponent.activeIndex===e?"1":"0"),this.renderer.setStyle(t.el,"position","relative"),this.renderer.setStyle(t.el,"width",`${this.unitWidth}px`),this.renderer.setStyle(t.el,"left",`${-this.unitWidth*e}px`),this.renderer.setStyle(t.el,"transition",["opacity 500ms ease 0s","visibility 500ms ease 0s"])}))}switch(n,t){let{to:e}=this.getFromToInBoundary(n,t),o=new ne;return this.contents.forEach((C,I)=>{this.renderer.setStyle(C.el,"opacity",e===I?"1":"0")}),setTimeout(()=>{o.next(),o.complete()},this.carouselComponent.nzTransitionSpeed),o}dispose(){this.contents.forEach(n=>{this.renderer.setStyle(n.el,"transition",null),this.renderer.setStyle(n.el,"opacity",null),this.renderer.setStyle(n.el,"width",null),this.renderer.setStyle(n.el,"left",null)}),super.dispose()}},me=class extends Kt{isDragging=!1;isTransitioning=!1;get vertical(){return this.carouselComponent.vertical}constructor(n,t,e,o,C){super(n,t,e,o,C)}dispose(){super.dispose(),this.renderer.setStyle(this.slickTrackEl,"transform",null)}withCarouselContents(n){super.withCarouselContents(n);let e=this.carouselComponent.activeIndex;this.platform.isBrowser&&this.contents.length&&(this.renderer.setStyle(this.slickListEl,"height",`${this.unitHeight}px`),this.vertical?(this.renderer.setStyle(this.slickTrackEl,"width",`${this.unitWidth}px`),this.renderer.setStyle(this.slickTrackEl,"height",`${this.length*this.unitHeight}px`),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-e*this.unitHeight}px, 0)`)):(this.renderer.setStyle(this.slickTrackEl,"height",`${this.unitHeight}px`),this.renderer.setStyle(this.slickTrackEl,"width",`${this.length*this.unitWidth}px`),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-e*this.unitWidth}px, 0, 0)`)),this.contents.forEach(o=>{this.renderer.setStyle(o.el,"position","relative"),this.renderer.setStyle(o.el,"width",`${this.unitWidth}px`),this.renderer.setStyle(o.el,"height",`${this.unitHeight}px`)}))}switch(n,t){let{to:e}=this.getFromToInBoundary(n,t),o=new ne;return this.renderer.setStyle(this.slickTrackEl,"transition",`transform ${this.carouselComponent.nzTransitionSpeed}ms ease`),this.vertical?this.verticalTransform(n,t):this.horizontalTransform(n,t),this.isTransitioning=!0,this.isDragging=!1,setTimeout(()=>{this.renderer.setStyle(this.slickTrackEl,"transition",null),this.contents.forEach(C=>{this.renderer.setStyle(C.el,this.vertical?"top":"left",null)}),this.vertical?this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-e*this.unitHeight}px, 0)`):this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-e*this.unitWidth}px, 0, 0)`),this.isTransitioning=!1,o.next(),o.complete()},this.carouselComponent.nzTransitionSpeed),o.asObservable()}dragging(n){if(this.isTransitioning)return;let t=this.carouselComponent.activeIndex;this.carouselComponent.vertical?(!this.isDragging&&this.length>2&&(t===this.maxIndex?this.prepareVerticalContext(!0):t===0&&this.prepareVerticalContext(!1)),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-t*this.unitHeight+n.x}px, 0)`)):(!this.isDragging&&this.length>2&&(t===this.maxIndex?this.prepareHorizontalContext(!0):t===0&&this.prepareHorizontalContext(!1)),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-t*this.unitWidth+n.x}px, 0, 0)`)),this.isDragging=!0}verticalTransform(n,t){let{from:e,to:o}=this.getFromToInBoundary(n,t);this.length>2&&t!==o?(this.prepareVerticalContext(o<e),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-t*this.unitHeight}px, 0)`)):this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-o*this.unitHeight}px, 0`)}horizontalTransform(n,t){let{from:e,to:o}=this.getFromToInBoundary(n,t);this.length>2&&t!==o?(this.prepareHorizontalContext(o<e),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-t*this.unitWidth}px, 0, 0)`)):this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-o*this.unitWidth}px, 0, 0`)}prepareVerticalContext(n){n?(this.renderer.setStyle(this.firstEl,"top",`${this.length*this.unitHeight}px`),this.renderer.setStyle(this.lastEl,"top",null)):(this.renderer.setStyle(this.firstEl,"top",null),this.renderer.setStyle(this.lastEl,"top",`${-this.unitHeight*this.length}px`))}prepareHorizontalContext(n){n?(this.renderer.setStyle(this.firstEl,"left",`${this.length*this.unitWidth}px`),this.renderer.setStyle(this.lastEl,"left",null)):(this.renderer.setStyle(this.firstEl,"left",null),this.renderer.setStyle(this.lastEl,"left",`${-this.unitWidth*this.length}px`))}},Fn=new _e(""),Vn="carousel",rn=(()=>{let i,n=[],t=[],e,o=[],C=[],I,L=[],it=[],A,lt=[],W=[],Q,Dt=[],Nt=[],At,Ht=[],Ct=[],Lt,ct=[],ot=[];return class he{static{let g=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[ft()],e=[ft()],I=[ft()],A=[ft()],Q=[ft()],At=[ft()],Lt=[ft()],pt(null,null,i,{kind:"field",name:"nzEffect",static:!1,private:!1,access:{has:s=>"nzEffect"in s,get:s=>s.nzEffect,set:(s,d)=>{s.nzEffect=d}},metadata:g},n,t),pt(null,null,e,{kind:"field",name:"nzEnableSwipe",static:!1,private:!1,access:{has:s=>"nzEnableSwipe"in s,get:s=>s.nzEnableSwipe,set:(s,d)=>{s.nzEnableSwipe=d}},metadata:g},o,C),pt(null,null,I,{kind:"field",name:"nzDots",static:!1,private:!1,access:{has:s=>"nzDots"in s,get:s=>s.nzDots,set:(s,d)=>{s.nzDots=d}},metadata:g},L,it),pt(null,null,A,{kind:"field",name:"nzAutoPlay",static:!1,private:!1,access:{has:s=>"nzAutoPlay"in s,get:s=>s.nzAutoPlay,set:(s,d)=>{s.nzAutoPlay=d}},metadata:g},lt,W),pt(null,null,Q,{kind:"field",name:"nzAutoPlaySpeed",static:!1,private:!1,access:{has:s=>"nzAutoPlaySpeed"in s,get:s=>s.nzAutoPlaySpeed,set:(s,d)=>{s.nzAutoPlaySpeed=d}},metadata:g},Dt,Nt),pt(null,null,At,{kind:"field",name:"nzLoop",static:!1,private:!1,access:{has:s=>"nzLoop"in s,get:s=>s.nzLoop,set:(s,d)=>{s.nzLoop=d}},metadata:g},Ht,Ct),pt(null,null,Lt,{kind:"field",name:"nzDotPosition",static:!1,private:!1,access:{has:s=>"nzDotPosition"in s,get:s=>s.nzDotPosition,set:(s,d)=>{s.nzDotPosition=d}},metadata:g},ct,ot),g&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:g})}_nzModuleName=Vn;nzConfigService=F(Re);ngZone=F(Se);renderer=F(se);cdr=F(Ne);platform=F(Le);resizeService=F(Je);nzDragService=F(Ue);nzResizeObserver=F(Qe);destroyRef=F(we);carouselContents;slickList;slickTrack;nzDotRender;nzEffect=R(this,n,"scrollx");nzEnableSwipe=(R(this,t),R(this,o,!0));nzDots=(R(this,C),R(this,L,!0));nzAutoPlay=(R(this,it),R(this,lt,!1));nzAutoPlaySpeed=(R(this,W),R(this,Dt,3e3));nzTransitionSpeed=(R(this,Nt),500);nzLoop=R(this,Ht,!0);nzArrows=(R(this,Ct),!1);nzStrategyOptions=void 0;nzDotPosition=R(this,ct,"bottom");nzBeforeChange=(R(this,ot),new ie);nzAfterChange=new ie;activeIndex=0;el=F(oe).nativeElement;slickListEl;slickTrackEl;strategy;vertical=!1;transitionInProgress;dir="ltr";gestureRect=null;pointerDelta=null;isTransiting=!1;isDragging=!1;directionality=F(Be);customStrategies=F(Fn,{optional:!0});constructor(){this.nzDotPosition="bottom",this.destroyRef.onDestroy(()=>{this.clearScheduledTransition(),this.strategy?.dispose()})}ngOnInit(){this.slickListEl=this.slickList.nativeElement,this.slickTrackEl=this.slickTrack.nativeElement,this.dir=this.directionality.value,this.directionality.change.pipe(Et(this.destroyRef)).subscribe(g=>{this.dir=g,this.markContentActive(this.activeIndex),this.cdr.detectChanges()}),He(this.slickListEl,"keydown").pipe(Et(this.destroyRef)).subscribe(g=>{let{keyCode:s}=g;s!==37&&s!==39||(g.preventDefault(),this.ngZone.run(()=>{s===37?this.pre():this.next(),this.cdr.markForCheck()}))}),this.nzResizeObserver.observe(this.el).pipe(ye(100),Ce(),Et(this.destroyRef)).subscribe(()=>this.layout())}ngAfterContentInit(){this.markContentActive(0)}ngAfterViewInit(){this.carouselContents.changes.subscribe(()=>{this.markContentActive(0),this.layout()}),this.resizeService.connect().pipe(Et(this.destroyRef)).subscribe(()=>this.layout()),this.switchStrategy(),this.markContentActive(0),this.layout(),Promise.resolve().then(()=>this.layout())}ngOnChanges(g){let{nzEffect:s,nzDotPosition:d}=g;s&&!s.isFirstChange()&&(this.switchStrategy(),this.markContentActive(0),this.layout()),d&&(this.vertical=d.currentValue==="left"||d.currentValue==="right",d.isFirstChange()||(this.switchStrategy(),this.markContentActive(0),this.layout())),!this.nzAutoPlay||!this.nzAutoPlaySpeed?this.clearScheduledTransition():this.scheduleNextTransition()}next(){this.goTo(this.activeIndex+1)}pre(){this.goTo(this.activeIndex-1)}goTo(g){if(this.carouselContents&&this.carouselContents.length&&!this.isTransiting&&(this.nzLoop||g>=0&&g<this.carouselContents.length)){let s=this.carouselContents.length,d=this.activeIndex,h=(g+s)%s;this.isTransiting=!0,this.nzBeforeChange.emit({from:d,to:h}),this.strategy.switch(this.activeIndex,g).subscribe(()=>{this.scheduleNextTransition(),this.nzAfterChange.emit(h),this.isTransiting=!1}),this.markContentActive(h),this.cdr.markForCheck()}}switchStrategy(){this.strategy&&this.strategy.dispose();let g=this.customStrategies?this.customStrategies.find(s=>s.name===this.nzEffect):null;if(g){this.strategy=new g.strategy(this,this.cdr,this.renderer,this.platform);return}this.strategy=this.nzEffect==="scrollx"?new me(this,this.cdr,this.renderer,this.platform):new pe(this,this.cdr,this.renderer,this.platform)}scheduleNextTransition(){this.clearScheduledTransition(),this.nzAutoPlay&&this.nzAutoPlaySpeed>0&&this.platform.isBrowser&&(this.transitionInProgress=setTimeout(()=>{this.goTo(this.activeIndex+1)},this.nzAutoPlaySpeed))}clearScheduledTransition(){this.transitionInProgress&&(clearTimeout(this.transitionInProgress),this.transitionInProgress=void 0)}markContentActive(g){this.activeIndex=g,this.carouselContents?.forEach((s,d)=>s.isActive=g===d),this.cdr.markForCheck()}pointerDown=g=>{!this.isDragging&&!this.isTransiting&&this.nzEnableSwipe&&(this.clearScheduledTransition(),this.gestureRect=this.slickListEl.getBoundingClientRect(),this.nzDragService.requestDraggingSequence(g).subscribe({next:s=>{this.pointerDelta=s,this.isDragging=!0,this.strategy?.dragging(this.pointerDelta)},complete:()=>{if(this.nzEnableSwipe&&this.isDragging){let s=this.pointerDelta?this.pointerDelta.x:0;Math.abs(s)>this.gestureRect.width/3&&(this.nzLoop||s<=0&&this.activeIndex+1<this.carouselContents.length||s>0&&this.activeIndex>0)?this.goTo(s>0?this.activeIndex-1:this.activeIndex+1):this.goTo(this.activeIndex),this.gestureRect=null,this.pointerDelta=null}this.isDragging=!1}}))};layout(){this.strategy?.withCarouselContents(this.carouselContents)}static \u0275fac=function(s){return new(s||he)};static \u0275cmp=M({type:he,selectors:[["nz-carousel"]],contentQueries:function(s,d,h){if(s&1&&$e(h,fe,4),s&2){let at;q(at=G())&&(d.carouselContents=at)}},viewQuery:function(s,d){if(s&1&&mt(In,7)(Tn,7),s&2){let h;q(h=G())&&(d.slickList=h.first),q(h=G())&&(d.slickTrack=h.first)}},hostAttrs:[1,"ant-carousel"],hostVars:4,hostBindings:function(s,d){s&2&&N("ant-carousel-vertical",d.vertical)("ant-carousel-rtl",d.dir==="rtl")},inputs:{nzDotRender:"nzDotRender",nzEffect:"nzEffect",nzEnableSwipe:[2,"nzEnableSwipe","nzEnableSwipe",Tt],nzDots:[2,"nzDots","nzDots",Tt],nzAutoPlay:[2,"nzAutoPlay","nzAutoPlay",Tt],nzAutoPlaySpeed:[2,"nzAutoPlaySpeed","nzAutoPlaySpeed",ae],nzTransitionSpeed:[2,"nzTransitionSpeed","nzTransitionSpeed",ae],nzLoop:"nzLoop",nzArrows:[2,"nzArrows","nzArrows",Tt],nzStrategyOptions:"nzStrategyOptions",nzDotPosition:"nzDotPosition"},outputs:{nzBeforeChange:"nzBeforeChange",nzAfterChange:"nzAfterChange"},exportAs:["nzCarousel"],features:[U],ngContentSelectors:En,decls:11,vars:6,consts:[["slickList",""],["slickTrack",""],["renderDotTemplate",""],[1,"slick-initialized","slick-slider",3,"dir"],["type","button","aria-label","prev",1,"slick-prev","slick-arrow",3,"slick-disabled"],["tabindex","-1",1,"slick-list",3,"mousedown","touchstart"],[1,"slick-track"],["type","button","aria-label","next",1,"slick-next","slick-arrow",3,"slick-disabled"],[1,"slick-dots",3,"slick-dots-top","slick-dots-bottom","slick-dots-left","slick-dots-right"],["type","button","aria-label","prev",1,"slick-prev","slick-arrow",3,"click"],["type","button","aria-label","next",1,"slick-next","slick-arrow",3,"click"],[1,"slick-dots"],[3,"slick-active"],[3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(s,d){if(s&1){let h=tt();jt(),v(0,"div",3),Wt(1,$n,1,2,"button",4),v(2,"div",5,0),et("mousedown",function(vt){return j(h),B(d.pointerDown(vt))})("touchstart",function(vt){return j(h),B(d.pointerDown(vt))}),v(4,"div",6,1),Bt(6),y()(),Wt(7,Nn,1,2,"button",7),Wt(8,Ln,3,8,"ul",8),y(),D(9,Rn,2,1,"ng-template",null,2,bt)}s&2&&(N("slick-vertical",d.nzDotPosition==="left"||d.nzDotPosition==="right"),x("dir","ltr"),l(),Yt(d.nzArrows?1:-1),l(6),Yt(d.nzArrows?7:-1),l(),Yt(d.nzDots?8:-1))},dependencies:[Ae],encapsulation:2,changeDetection:0})}})(),an=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=be({type:i});static \u0275inj=ve({})}return i})();var jn=["root"],Bn=(i,n)=>({height:i,"object-fit":n});function Qn(i,n){if(i&1&&(Z(0,"div",3,1),Jt(2,"safeHtml")),i&2){let t=w();x("innerHTML",Ut(2,1,t.html),Vt)}}function Jn(i,n){if(i&1&&Z(0,"img",4),i&2){let t=w();x("src",t.data.src,Me)("ngStyle",Mt(2,Bn,t.height<=0?"":t.height+"px",t.fit))}}var te=class i{data={};height;fit="cover";root;isCode=!1;html="";constructor(){}ngOnInit(){this.isCode=this.data.url[0]==="!",this.isCode&&(this.html=qt(this.data.url))}ngAfterViewInit(){this.parseDescription()}parseDescription(){this.isCode&&Zt(this.root?.nativeElement,this.data.url)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=M({type:i,selectors:[["app-swiper-item"]],viewQuery:function(t,e){if(t&1&&mt(jn,5),t&2){let o;q(o=G())&&(e.root=o.first)}},inputs:{data:"data",height:"height",fit:"fit"},decls:3,vars:2,consts:[["other",""],["root",""],["class","w-full",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"w-full",3,"innerHTML"],["draggable","false",1,"bgimg",3,"src","ngStyle"]],template:function(t,e){if(t&1&&D(0,Qn,3,3,"div",2)(1,Jn,1,5,"ng-template",null,0,bt),t&2){let o=St(2);x("ngIf",e.isCode)("ngIfElse",o)}},dependencies:[X,st,ht,Gt],styles:[".bgimg[_ngcontent-%COMP%]{width:100%}"]})};var Un=["*"],Zn=i=>({height:i});function qn(i,n){if(i&1){let t=tt();v(0,"div",4),et("click",function(o){let C=j(t).$implicit,I=w(2);return B(I.jumpService.goUrl(o,C.url))}),Z(1,"app-swiper-item",5),y()}if(i&2){let t=n.$implicit,e=w(2);N("cursor-pointer",t.url),l(),x("data",t)("height",e.height)("fit",e.fit)}}function Gn(i,n){if(i&1&&(v(0,"div",1)(1,"nz-carousel",2),D(2,qn,2,5,"div",3),y(),Bt(3),y()),i&2){let t=w();x("ngStyle",Qt(5,Zn,t.height<=0?"":t.height+"px")),l(),x("nzAutoPlay",t.autoPlay)("nzAutoPlaySpeed",5e3)("nzDots",t.images.length>1),l(),x("ngForOf",t.images)}}var ee=class i{constructor(n){this.jumpService=n}images=[];fit="cover";autoplay=!0;height=300;autoPlay=!1;ngAfterViewInit(){setTimeout(()=>{this.autoplay&&(this.autoPlay=!0,document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)))},0)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange(){document.visibilityState==="hidden"?this.autoPlay=!1:this.autoPlay=!0}static \u0275fac=function(t){return new(t||i)(xt(zt))};static \u0275cmp=M({type:i,selectors:[["app-swiper"]],inputs:{images:"images",fit:"fit",autoplay:"autoplay",height:"height"},ngContentSelectors:Un,decls:1,vars:1,consts:[["class","swiper",3,"ngStyle",4,"ngIf"],[1,"swiper",3,"ngStyle"],[3,"nzAutoPlay","nzAutoPlaySpeed","nzDots"],["nz-carousel-content","",3,"cursor-pointer","click",4,"ngFor","ngForOf"],["nz-carousel-content","",3,"click"],[3,"data","height","fit"]],template:function(t,e){t&1&&(jt(),D(0,Gn,4,7,"div",0)),t&2&&x("ngIf",e.images&&e.images.length>0)},dependencies:[an,rn,fe,X,kt,st,ht,te],styles:[".swiper[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;overflow:hidden}.swiper[_ngcontent-%COMP%]     .slick-slide, .swiper[_ngcontent-%COMP%]     .slick-track, .swiper[_ngcontent-%COMP%]     .slick-list{height:auto!important}"]})};var Xn=(i,n)=>({zoom:i,width:n}),ln=class i{data;component=$();constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=M({type:i,selectors:[["app-carousel"]],inputs:{data:"data"},decls:2,vars:7,consts:[[1,"ccarousel","family","citems",3,"ngStyle"],[3,"images","height","fit"]],template:function(t,e){t&1&&(v(0,"div",0),Z(1,"app-swiper",1),y()),t&2&&(x("ngStyle",Mt(4,Xn,e.component.zoom,e.data.width+"px")),l(),x("images",e.data.imgs)("height",155)("fit",e.data.fit))},dependencies:[ee,X,ht],styles:[".ccarousel[_ngcontent-%COMP%]{position:relative;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden}.ccarousel[_ngcontent-%COMP%]     .swiper{height:var(--componentHeight)!important}"]})};export{Ze as a,qe as b,Ge as c,Xe as d,de as e,tn as f,en as g,nn as h,on as i,sn as j,ee as k,ln as l};
